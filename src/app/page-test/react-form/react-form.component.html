<h1 class="mb-10 text-4xl">comunismo</h1>
<form class="p-4 shadow-xl rounded-lg bg-slate-100" [formGroup]="form">
  <!-- username -->
  <div><label for="name">Nombre: </label></div>
  <div class="relative">
    <input
      type="text"
      name="name"
      id="name"
      placeholder="Nombre"
      class="bg-gray-50 border transition duration-250 ease-in-out text-gray-900 text-sm rounded-lg focus:ring-4 focus:ring-opacity-50 focus:outline-none block w-full p-2.5 pr-7"
      [ngClass]="
        form.get('name')?.untouched || form.get('name')?.valid
          ? 'focus:ring-green-300 border-slate-300'
          : 'focus:ring-rose-300 border-red-300'
      "
      formControlName="name"
    />
    <!-- icons -->
    <div class="absolute top-2.5 right-1" *ngIf="form.get('name')?.touched">
      <img
        src="assets/icons-form/check-icon.svg"
        *ngIf="form.get('name')?.valid"
        alt="check-icon"
      />
      <img
        src="assets/icons-form/fail-icon.svg"
        *ngIf="form.get('name')?.invalid"
        alt="fail-icon"
      />
    </div>
    <!-- alertas -->
    <div
      class="error-alert"
      *ngIf="form.get('name')?.touched && form.get('name')?.invalid"
    >
      <div
        class="flex p-1 text-sm text-red-400 rounded-lg"
        *ngIf="form.get('name')"
      >
        <img
          class="pr-3"
          src="assets/icons-form/info-icon.svg"
          alt="info-icon"
        />
        <p *ngIf="form.get('name')?.hasError('required')">
          Este campo es <span class="font-bold">requerido</span>.
        </p>
        <p *ngIf="form.get('name')?.hasError('minlength')">
          Mínimo <span class="font-bold">4 carácteres</span>.
        </p>
        <p *ngIf="form.get('name')?.hasError('maxlength')">
          Máximo <span class="font-bold">10 carácteres</span>.
        </p>
        <p
          *ngIf="
            form.get('name')?.hasError('pattern') &&
            !form.get('name')?.hasError('minlength') &&
            !form.get('name')?.hasError('maxlength')
          "
        >
          Patron<span class="font-bold">invalido</span>.
        </p>
      </div>
    </div>
  </div>
  <!-- contraseña -->
  <div><label for="pass">Password: </label></div>
  <div class="relative">
    <input
      type="text"
      name="pass"
      id="pass"
      placeholder="Contraseña"
      class="bg-gray-50 border transition duration-250 ease-in-out text-gray-900 text-sm rounded-lg focus:ring-4 focus:ring-opacity-50 focus:outline-none block w-full p-2.5 pr-7"
      [ngClass]="
        form.get('pass')?.untouched || form.get('pass')?.valid
          ? 'focus:ring-green-300 border-slate-300'
          : 'focus:ring-rose-300 border-red-300'
      "
      formControlName="pass"
    />
    <!-- icons -->
    <div class="absolute top-2.5 right-1" *ngIf="form.get('pass')?.touched">
      <img
        src="assets/icons-form/check-icon.svg"
        *ngIf="form.get('pass')?.valid"
        alt="check-icon"
      />
      <img
        src="assets/icons-form/fail-icon.svg"
        *ngIf="form.get('pass')?.invalid"
        alt="fail-icon"
      />
    </div>
    <!-- alertas -->
    <div
      class="error-alert"
      *ngIf="form.get('pass')?.touched && form.get('pass')?.invalid"
    >
      <div
        class="flex p-1 text-sm text-red-400 rounded-lg"
        *ngIf="form.get('pass')"
      >
        <img
          class="pr-3"
          src="assets/icons-form/info-icon.svg"
          alt="info-icon"
        />
        <p *ngIf="form.get('pass')?.hasError('required')">
          Este campo es <span class="font-bold">requerido</span>.
        </p>
        <p *ngIf="form.get('pass')?.hasError('minlength')">
          Mínimo <span class="font-bold">8 a 9 carácteres</span>.
        </p>
        <p *ngIf="form.get('pass')?.hasError('maxlength')">
          Máximo <span class="font-bold">9 carácteres</span>.
        </p>
        <p
          *ngIf="
            form.get('pass')?.hasError('pattern') &&
            !form.get('pass')?.hasError('minlength') &&
            !form.get('pass')?.hasError('maxlength')
          "
        >
          Patron<span class="font-bold">invalido</span>.
        </p>
      </div>
    </div>
  </div>
  <!-- boton -->
  <div class="btn">
    <button
      class="text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-lg px-5 py-2 text-center mr-2 mb-2 disabled:from-purple-300 disabled:to-blue-200"
      (click)="consolear()"
      [disabled]="form.invalid"
    >
      Enviar
    </button>
  </div>
</form>
<div
  *ngIf="alert"
  class="flex p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400"
  role="alert"
>
  <svg
    aria-hidden="true"
    class="flex-shrink-0 inline w-5 h-5 mr-3"
    fill="currentColor"
    viewBox="0 0 20 20"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
      clip-rule="evenodd"
    ></path>
  </svg>
  <span class="sr-only">Info</span>
  <div>
    <span class="font-medium">{{ mensaje }}</span
    >.
  </div>
</div>
